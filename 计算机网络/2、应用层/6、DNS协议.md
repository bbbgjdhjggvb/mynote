#### DNS
1. 分层的DNS服务器实现的分布式
2. DNS运行在UDP之上
#### DNS工作原理
1. 本地域名服务器
2. 权威域名服务器
3. 顶级域名服务器
4. 根域名服务器
##### 迭代查询
例如访问www.szu.edu.cn
1. 本地主机向本地dns服务器查询
2. 本地域名服务器向根域名服务器查询，跟域名服务器告诉本地域名服务器去找顶级域名服务器(.cn)
3. 本地域名服务器向顶级域名服务器查询，顶级域名服务器倒数本地域名服务器去权威服务器(.com.cn)
4. 本地域名服务器向权威服务器查询，高数本地主机去深大服务器(szu.edu.cn)
5. 本地域名服务器去深大服务器查询，将得到的结果发给主机
![[Pasted image 20240414231005.png]]
##### 递归查询
1. 本地主机->本地域名服务器->跟域名服务器->顶级域名服务器->权威域名服务器->深大域名服务器
2.  本地主机<-本地域名服务器<-跟域名服务器<-顶级域名服务器<-权威域名服务器<-深大域名服务器
#### DNS缓存
任何一台服务器都有可能有缓存
#### DNS记录和报文
##### DNS记录（RR）
包含4个字段（Name,Value,Type,TTL）
存储在DNS服务器中
1. TTL记录该记录的生存时间
2. Type
	1. =A时，Name是规范主机名，Value是ip
	2. =NS时，Name是域名，value是获取下一级dns服务器ip的dns服务器（Name=foo.com，Value=dns.foo.com）
	3. =CNAME时，Name是别名，Value是规范主机名
	4. =MX时，Name是别名，Value是邮件服务器的规范主机名