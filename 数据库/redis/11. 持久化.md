# RDB（Redis DataBase）
在指定时间间隔内，将内存中的快照存入磁盘
生成内存数据的二进制快照文件
## 自动触发
在redis的配置文件中 save 900 1表示900秒内就会有一次存储

## 手动保存快照
在保存快照的这段时间，redis都不能接受其他请求
```
save

# 启动子进程来进行保存操作，但是在fork的这段时间也是不能处理请求的
bgsave
```

## 优点
- 快照体积小、适合备份和数据迁移
- 恢复速度快
## 缺点
- 可能会丢失数据：如果两次快照时间间隔之间发生故障，这段时间的数据将会丢失

# AOF(Append-Only File)
AOF持久化通过记录所有写命令到日志文件中，redis重启时通过重新执行这些命令来恢复数据

## AOF重写
问题：AOF文件会随着命令增多而膨胀
解决：通过`BGREWRITEAOF`命令重写AOF文件

## 优点
- 数据安全性高
- AOF文件是文本格式文件，易于理解和手动修改

## 缺点
- AOF文件的体积通常比RDB大，恢复速度慢
- 写命令的追加操作会影响性能

