# 饿汉模式（线程安全）
在类加载的时候就创建好类对象，造成资源浪费
```java
public class EagerSingleton {
    // 类加载时立即初始化实例
    private static final EagerSingleton INSTANCE = new EagerSingleton();
    
    // 私有构造器阻止外部实例化
    private EagerSingleton() {
        // 防止反射攻击
        if (INSTANCE != null) {
            throw new IllegalStateException("Singleton already initialized");
        }
    }
    
    // 全局访问点
    public static EagerSingleton getInstance() {
        return INSTANCE;
    }
    
    // 防止反序列化创建新实例
    protected Object readResolve() {
        return INSTANCE;
    }
}
```
1. 类加载时创建好对象
2. 私有化构造器
3. 提供静态全局函数

# 懒汉模式
比较懒，等调用再去创建，线程不安全
```java
public class UnsafeLazySingleton {
    private static UnsafeLazySingleton instance;
    
    private UnsafeLazySingleton() {}
    
    public static UnsafeLazySingleton getInstance() {
        if (instance == null) {  // 多线程可能同时进入
            instance = new UnsafeLazySingleton();
        }
        return instance;
    }
}
```

# 同步方法懒汉模式
加锁
```java
public class SynchronizedSingleton {
    private static SynchronizedSingleton instance;
    
    private SynchronizedSingleton() {}
    
    // 方法级同步（性能瓶颈）
    public static synchronized SynchronizedSingleton getInstance() {
        if (instance == null) {
            instance = new SynchronizedSingleton();
        }
        return instance;
    }
}
```

# 静态内部类型
1. 静态内部类只有被主动引用时才会被加载
2. JVM在初始化类的时候使用*隐式同步锁*保证线程的安全
```java
public class StaticHolderSingleton {
    private StaticHolderSingleton() {
        // 防止反射攻击
        if (Holder.INSTANCE != null) {
            throw new IllegalStateException("Singleton already initialized");
        }
    }
    
    // 静态内部类持有实例
    private static class Holder {
        static final StaticHolderSingleton INSTANCE = new StaticHolderSingleton();
    }
    
    public static StaticHolderSingleton getInstance() {
        return Holder.INSTANCE;
    }
    
    // 防止反序列化破坏单例
    protected Object readResolve() {
        return getInstance();
    }
}
```
1. *静态内部类持有实例化对象*

# 枚举类实现单例
天然防止反射和序列化攻击
```java
public enum EnumSingleton {
    INSTANCE;
    
    // 添加业务方法
    public void doSomething() {
        System.out.println("Singleton working");
    }
}

// 使用示例
EnumSingleton.INSTANCE.doSomething();
```